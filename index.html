<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Univerzális Méretező</title>
    <style>
        :root { --accent: #30d158; --bg: #000; }
        body { background: var(--bg); color: #fff; font-family: sans-serif; margin: 0; overflow: hidden; touch-action: none; }
        
        #overlay { position: fixed; inset: 0; background: #000; z-index: 1000; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 20px; text-align: center; }
        input { background: #1a1a1a; border: 1px solid var(--accent); color: #fff; padding: 15px; border-radius: 10px; width: 80%; margin: 10px 0; font-size: 16px; text-align: center; }
        button { background: var(--accent); color: #000; border: none; padding: 15px 30px; border-radius: 10px; font-weight: bold; cursor: pointer; }
        
        .ruler { position: relative; height: 100vh; width: 100vw; display: none; }
        .cm-mark { position: absolute; left: 0; height: 2px; background: var(--accent); width: 50px; }
        .mm-mark { position: absolute; left: 0; height: 1px; background: #444; width: 25px; }
        .cm-text { position: absolute; left: 60px; font-size: 14px; color: var(--accent); transform: translateY(-50%); }
        .info { position: fixed; bottom: 10px; right: 10px; font-size: 10px; color: #444; }
    </style>
</head>
<body>

<div id="overlay">
    <h2>Méretező Kalibráció</h2>
    <p>Írd be a készülék <strong>PPI</strong> értékét:<br>
    <small>(Tab S7 FE: 243 | Note 20 Ultra: 496)</small></p>
    <input type="number" id="ppiInput" placeholder="Például: 243" inputmode="numeric">
    <button onclick="startRuler()">INDÍTÁS (TELJES KÉPERNYŐ)</button>
</div>

<div id="ruler" class="ruler"></div>
<div class="info" id="devInfo"></div>

<script>
    function startRuler() {
        const ppi = document.getElementById('ppiInput').value;
        if (!ppi) { alert("Kérlek írd be a PPI-t!"); return; }

        // Teljes képernyő kérése
        const doc = document.documentElement;
        if (doc.requestFullscreen) doc.requestFullscreen();
        else if (doc.webkitRequestFullscreen) doc.webkitRequestFullscreen();

        // Számítás: 1 inch = 25.4 mm. Pixels per mm = PPI / 25.4
        const ppmm = ppi / 25.4;
        drawRuler(ppmm);

        document.getElementById('overlay').style.display = 'none';
        document.getElementById('ruler').style.display = 'block';
        document.getElementById('devInfo').innerText = "PPI: " + ppi;
    }

    function drawRuler(ppmm) {
        const container = document.getElementById('ruler');
        container.innerHTML = '';
        
        // 100 cm hosszig rajzolunk (vagy amíg a képernyő tart)
        for (let i = 0; i <= 1000; i++) {
            const pos = i * ppmm;
            const mark = document.createElement('div');
            
            if (i % 10 === 0) {
                mark.className = 'cm-mark';
                const text = document.createElement('span');
                text.className = 'cm-text';
                text.innerText = (i / 10) + " cm";
                text.style.top = pos + "px";
                container.appendChild(text);
            } else if (i % 5 === 0) {
                mark.className = 'mm-mark';
                mark.style.width = "35px";
                mark.style.background = "#888";
            } else {
                mark.className = 'mm-mark';
            }
            
            mark.style.top = pos + "px";
            container.appendChild(mark);
        }
    }
</script>
</body>
</html>
